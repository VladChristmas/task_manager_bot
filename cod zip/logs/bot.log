2025-02-26 20:56:13,735 - database - INFO - База данных успешно инициализирована
2025-02-26 20:56:13,735 - database - INFO - База данных успешно инициализирована
2025-02-26 20:56:13,736 - __main__ - INFO - База данных успешно инициализирована
2025-02-26 20:56:13,736 - __main__ - ERROR - Критическая ошибка при запуске приложения: BOT_TOKEN не найден в переменных окружения
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 79, in <module>
    bot = TelegramBot()
          ^^^^^^^^^^^^^
  File "/home/runner/workspace/bot.py", line 36, in __init__
    raise ValueError("BOT_TOKEN не найден в переменных окружения")
ValueError: BOT_TOKEN не найден в переменных окружения
2025-02-26 21:03:36,026 - database - INFO - База данных успешно инициализирована
2025-02-26 21:03:36,027 - database - INFO - База данных успешно инициализирована
2025-02-26 21:03:36,027 - __main__ - INFO - База данных успешно инициализирована
2025-02-26 21:03:36,028 - __main__ - ERROR - Критическая ошибка при запуске приложения: BOT_TOKEN не найден в переменных окружения
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 79, in <module>
    bot = TelegramBot()
          ^^^^^^^^^^^^^
  File "/home/runner/workspace/bot.py", line 37, in __init__
    raise ValueError("BOT_TOKEN не найден в переменных окружения")
ValueError: BOT_TOKEN не найден в переменных окружения
2025-02-26 21:03:46,038 - database - INFO - База данных успешно инициализирована
2025-02-26 21:03:46,039 - database - INFO - База данных успешно инициализирована
2025-02-26 21:03:46,039 - __main__ - INFO - База данных успешно инициализирована
2025-02-26 21:03:46,039 - __main__ - ERROR - Критическая ошибка при запуске приложения: BOT_TOKEN не найден в переменных окружения
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 79, in <module>
    bot = TelegramBot()
          ^^^^^^^^^^^^^
  File "/home/runner/workspace/bot.py", line 37, in __init__
    raise ValueError("BOT_TOKEN не найден в переменных окружения")
ValueError: BOT_TOKEN не найден в переменных окружения
2025-02-26 21:04:48,724 - database - INFO - База данных успешно инициализирована
2025-02-26 21:04:48,725 - database - INFO - База данных успешно инициализирована
2025-02-26 21:04:48,725 - __main__ - INFO - База данных успешно инициализирована
2025-02-26 21:04:48,750 - handlers - INFO - Handlers registered successfully
2025-02-26 21:04:48,750 - __main__ - INFO - Запуск Telegram бота...
2025-02-26 21:04:48,751 - __main__ - ERROR - Ошибка запуска бота: Cannot close a running event loop
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1006, in __run
    raise exc
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 995, in __run
    loop.run_until_complete(self.initialize())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1017, in __run
    loop.run_until_complete(self.shutdown())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 55, in start
    await self.app.run_polling(drop_pending_updates=True)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 818, in run_polling
    return self.__run(
           ^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1022, in __run
    loop.close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/unix_events.py", line 68, in close
    super().close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/selector_events.py", line 88, in close
    raise RuntimeError("Cannot close a running event loop")
RuntimeError: Cannot close a running event loop
2025-02-26 21:04:48,755 - __main__ - INFO - Останавливаем бота...
2025-02-26 21:04:48,755 - __main__ - ERROR - Ошибка при остановке бота: This Application is not running!
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1006, in __run
    raise exc
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 995, in __run
    loop.run_until_complete(self.initialize())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1017, in __run
    loop.run_until_complete(self.shutdown())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 55, in start
    await self.app.run_polling(drop_pending_updates=True)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 818, in run_polling
    return self.__run(
           ^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1022, in __run
    loop.close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/unix_events.py", line 68, in close
    super().close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/selector_events.py", line 88, in close
    raise RuntimeError("Cannot close a running event loop")
RuntimeError: Cannot close a running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 67, in stop
    await self.app.stop()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 650, in stop
    raise RuntimeError("This Application is not running!")
RuntimeError: This Application is not running!
2025-02-26 21:04:48,757 - __main__ - ERROR - Критическая ошибка при запуске приложения: Cannot close a running event loop
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1006, in __run
    raise exc
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 995, in __run
    loop.run_until_complete(self.initialize())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1017, in __run
    loop.run_until_complete(self.shutdown())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 80, in <module>
    asyncio.run(bot.start())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/runner/workspace/bot.py", line 55, in start
    await self.app.run_polling(drop_pending_updates=True)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 818, in run_polling
    return self.__run(
           ^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1022, in __run
    loop.close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/unix_events.py", line 68, in close
    super().close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/selector_events.py", line 88, in close
    raise RuntimeError("Cannot close a running event loop")
RuntimeError: Cannot close a running event loop
2025-02-26 21:05:35,510 - database - INFO - База данных успешно инициализирована
2025-02-26 21:05:35,511 - database - INFO - База данных успешно инициализирована
2025-02-26 21:05:35,511 - __main__ - INFO - База данных успешно инициализирована
2025-02-26 21:05:35,528 - handlers - INFO - Handlers registered successfully
2025-02-26 21:05:35,528 - __main__ - INFO - Запуск Telegram бота...
2025-02-26 21:05:35,529 - __main__ - ERROR - Ошибка запуска бота: Cannot close a running event loop
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1006, in __run
    raise exc
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 995, in __run
    loop.run_until_complete(self.initialize())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1017, in __run
    loop.run_until_complete(self.shutdown())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 55, in start
    await self.app.run_polling(drop_pending_updates=True)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 818, in run_polling
    return self.__run(
           ^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1022, in __run
    loop.close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/unix_events.py", line 68, in close
    super().close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/selector_events.py", line 88, in close
    raise RuntimeError("Cannot close a running event loop")
RuntimeError: Cannot close a running event loop
2025-02-26 21:05:35,532 - __main__ - INFO - Останавливаем бота...
2025-02-26 21:05:35,532 - __main__ - ERROR - Ошибка при остановке бота: This Application is not running!
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1006, in __run
    raise exc
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 995, in __run
    loop.run_until_complete(self.initialize())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1017, in __run
    loop.run_until_complete(self.shutdown())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 55, in start
    await self.app.run_polling(drop_pending_updates=True)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 818, in run_polling
    return self.__run(
           ^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1022, in __run
    loop.close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/unix_events.py", line 68, in close
    super().close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/selector_events.py", line 88, in close
    raise RuntimeError("Cannot close a running event loop")
RuntimeError: Cannot close a running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 67, in stop
    await self.app.stop()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 650, in stop
    raise RuntimeError("This Application is not running!")
RuntimeError: This Application is not running!
2025-02-26 21:05:35,534 - __main__ - ERROR - Критическая ошибка при запуске приложения: Cannot close a running event loop
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1006, in __run
    raise exc
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 995, in __run
    loop.run_until_complete(self.initialize())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1017, in __run
    loop.run_until_complete(self.shutdown())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 80, in <module>
    asyncio.run(bot.start())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/runner/workspace/bot.py", line 55, in start
    await self.app.run_polling(drop_pending_updates=True)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 818, in run_polling
    return self.__run(
           ^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1022, in __run
    loop.close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/unix_events.py", line 68, in close
    super().close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/selector_events.py", line 88, in close
    raise RuntimeError("Cannot close a running event loop")
RuntimeError: Cannot close a running event loop
2025-02-26 21:06:12,206 - database - INFO - База данных успешно инициализирована
2025-02-26 21:06:12,206 - database - INFO - База данных успешно инициализирована
2025-02-26 21:06:12,206 - __main__ - INFO - База данных успешно инициализирована
2025-02-26 21:06:12,228 - handlers - INFO - Handlers registered successfully
2025-02-26 21:06:12,228 - __main__ - INFO - Запуск Telegram бота...
2025-02-26 21:06:12,581 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8188505314:AAFnZRiMwjDEufaHQ4t8vTaJJqg0Ucqt2zQ/getMe "HTTP/1.1 200 OK"
2025-02-26 21:06:12,582 - telegram.ext.Application - INFO - Application started
2025-02-26 21:06:12,583 - __main__ - ERROR - Ошибка запуска бота: Cannot close a running event loop
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1006, in __run
    raise exc
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 995, in __run
    loop.run_until_complete(self.initialize())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1014, in __run
    loop.run_until_complete(self.stop())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 57, in start
    await self.app.run_polling()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 818, in run_polling
    return self.__run(
           ^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1022, in __run
    loop.close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/unix_events.py", line 68, in close
    super().close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/selector_events.py", line 88, in close
    raise RuntimeError("Cannot close a running event loop")
RuntimeError: Cannot close a running event loop
2025-02-26 21:06:12,586 - __main__ - INFO - Останавливаем бота...
2025-02-26 21:06:12,586 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-02-26 21:06:12,586 - telegram.ext.Application - INFO - Application.stop() complete
2025-02-26 21:06:12,586 - __main__ - INFO - Бот успешно остановлен
2025-02-26 21:06:12,587 - __main__ - ERROR - Критическая ошибка при запуске приложения: Cannot close a running event loop
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1006, in __run
    raise exc
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 995, in __run
    loop.run_until_complete(self.initialize())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1014, in __run
    loop.run_until_complete(self.stop())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 82, in <module>
    asyncio.run(bot.start())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/runner/workspace/bot.py", line 57, in start
    await self.app.run_polling()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 818, in run_polling
    return self.__run(
           ^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1022, in __run
    loop.close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/unix_events.py", line 68, in close
    super().close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/selector_events.py", line 88, in close
    raise RuntimeError("Cannot close a running event loop")
RuntimeError: Cannot close a running event loop
2025-02-26 21:06:54,544 - database - INFO - База данных успешно инициализирована
2025-02-26 21:06:54,545 - database - INFO - База данных успешно инициализирована
2025-02-26 21:06:54,545 - __main__ - INFO - Database initialized successfully
2025-02-26 21:06:54,546 - __main__ - INFO - Attempting to load BOT_TOKEN from environment...
2025-02-26 21:06:54,546 - __main__ - INFO - BOT_TOKEN successfully loaded
2025-02-26 21:06:54,546 - __main__ - INFO - Initializing bot application...
2025-02-26 21:06:54,566 - handlers - INFO - Handlers registered successfully
2025-02-26 21:06:54,566 - __main__ - INFO - Handlers registered successfully
2025-02-26 21:06:54,566 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:06:54,902 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8188505314:AAFnZRiMwjDEufaHQ4t8vTaJJqg0Ucqt2zQ/getMe "HTTP/1.1 200 OK"
2025-02-26 21:06:54,903 - telegram.ext.Application - INFO - Application started
2025-02-26 21:06:54,904 - __main__ - ERROR - Error starting bot: Cannot close a running event loop
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1006, in __run
    raise exc
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 995, in __run
    loop.run_until_complete(self.initialize())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1014, in __run
    loop.run_until_complete(self.stop())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 63, in start
    await self.app.run_polling(allowed_updates=["message"])
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 818, in run_polling
    return self.__run(
           ^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1022, in __run
    loop.close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/unix_events.py", line 68, in close
    super().close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/selector_events.py", line 88, in close
    raise RuntimeError("Cannot close a running event loop")
RuntimeError: Cannot close a running event loop
2025-02-26 21:06:54,908 - __main__ - INFO - Stopping bot...
2025-02-26 21:06:54,908 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-02-26 21:06:54,908 - telegram.ext.Application - INFO - Application.stop() complete
2025-02-26 21:06:54,908 - __main__ - INFO - Bot stopped successfully
2025-02-26 21:06:54,910 - __main__ - ERROR - Critical error during application startup: Cannot close a running event loop
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1006, in __run
    raise exc
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 995, in __run
    loop.run_until_complete(self.initialize())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1014, in __run
    loop.run_until_complete(self.stop())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 630, in run_until_complete
    self._check_running()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 589, in _check_running
    raise RuntimeError('This event loop is already running')
RuntimeError: This event loop is already running

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 88, in <module>
    asyncio.run(bot.start())
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/runner/workspace/bot.py", line 63, in start
    await self.app.run_polling(allowed_updates=["message"])
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 818, in run_polling
    return self.__run(
           ^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telegram/ext/_application.py", line 1022, in __run
    loop.close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/unix_events.py", line 68, in close
    super().close()
  File "/nix/store/clx0mcir7qw8zk36zbr4jra789g3knf6-python3-3.11.10/lib/python3.11/asyncio/selector_events.py", line 88, in close
    raise RuntimeError("Cannot close a running event loop")
RuntimeError: Cannot close a running event loop
2025-02-26 21:10:17,089 - database - INFO - База данных успешно инициализирована
2025-02-26 21:10:17,089 - database - INFO - База данных успешно инициализирована
2025-02-26 21:10:17,090 - __main__ - INFO - Database initialized successfully
2025-02-26 21:10:17,096 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:10:21,896 - TeleBot - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:10:21,897 - TeleBot - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/util.py", line 93, in run
    task(*args, **kwargs)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-02-26 21:10:26,899 - TeleBot - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:10:26,899 - TeleBot - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/util.py", line 93, in run
    task(*args, **kwargs)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-02-26 21:10:30,252 - database - INFO - База данных успешно инициализирована
2025-02-26 21:10:30,253 - database - INFO - База данных успешно инициализирована
2025-02-26 21:10:30,253 - __main__ - INFO - Database initialized successfully
2025-02-26 21:10:30,255 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:10:34,425 - TeleBot - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:10:34,425 - TeleBot - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/util.py", line 93, in run
    task(*args, **kwargs)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-02-26 21:10:43,298 - TeleBot - ERROR - Threaded polling exception: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:10:43,299 - TeleBot - ERROR - Exception traceback:
Traceback (most recent call last):
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1234, in __threaded_polling
    polling_thread.raise_exceptions()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/util.py", line 111, in raise_exceptions
    raise self.exception_info
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/util.py", line 93, in run
    task(*args, **kwargs)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 688, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running

2025-02-26 21:11:23,406 - database - INFO - База данных успешно инициализирована
2025-02-26 21:11:23,407 - database - INFO - База данных успешно инициализирована
2025-02-26 21:11:23,407 - __main__ - INFO - Database initialized successfully
2025-02-26 21:11:23,408 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:11:23,425 - __main__ - INFO - Received signal 15
2025-02-26 21:11:23,425 - __main__ - INFO - Stopping bot...
2025-02-26 21:11:23,426 - __main__ - INFO - Bot stopped successfully
2025-02-26 21:11:23,762 - database - INFO - База данных успешно инициализирована
2025-02-26 21:11:23,763 - database - INFO - База данных успешно инициализирована
2025-02-26 21:11:23,763 - __main__ - INFO - Database initialized successfully
2025-02-26 21:11:23,764 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:11:28,233 - __main__ - ERROR - Error starting bot: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 143, in start
    self.bot.infinity_polling(skip_pending=True)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:11:28,236 - __main__ - ERROR - Critical error during application startup: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 165, in <module>
    bot.start()
  File "/home/runner/workspace/bot.py", line 143, in start
    self.bot.infinity_polling(skip_pending=True)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:12:31,332 - database - INFO - База данных успешно инициализирована
2025-02-26 21:12:31,333 - database - INFO - База данных успешно инициализирована
2025-02-26 21:12:31,334 - __main__ - INFO - Database initialized successfully
2025-02-26 21:12:31,334 - __main__ - INFO - Loading environment variables...
2025-02-26 21:12:31,335 - __main__ - INFO - BOT_TOKEN successfully loaded
2025-02-26 21:12:31,337 - __main__ - INFO - Setting up command handlers...
2025-02-26 21:12:31,337 - __main__ - INFO - All handlers registered successfully
2025-02-26 21:12:31,337 - __main__ - INFO - Bot initialized successfully
2025-02-26 21:12:31,337 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:12:35,810 - __main__ - ERROR - Error starting bot: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 171, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:12:35,814 - __main__ - INFO - Stopping bot...
2025-02-26 21:12:36,814 - __main__ - INFO - Bot stopped successfully
2025-02-26 21:12:36,814 - __main__ - ERROR - Critical error during application startup: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 201, in <module>
    bot.start()
  File "/home/runner/workspace/bot.py", line 171, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:13:32,841 - database - INFO - База данных успешно инициализирована
2025-02-26 21:13:32,842 - database - INFO - База данных успешно инициализирована
2025-02-26 21:13:32,842 - __main__ - INFO - Database initialized successfully
2025-02-26 21:13:32,843 - __main__ - INFO - Loading environment variables...
2025-02-26 21:13:32,843 - __main__ - INFO - BOT_TOKEN successfully loaded
2025-02-26 21:13:32,845 - __main__ - INFO - Setting up command handlers...
2025-02-26 21:13:32,845 - __main__ - INFO - All handlers registered successfully
2025-02-26 21:13:32,845 - __main__ - INFO - Bot initialized successfully
2025-02-26 21:13:32,845 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:13:37,314 - __main__ - WARNING - Error clearing updates: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:13:42,067 - __main__ - ERROR - Error starting bot: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 184, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:13:42,074 - __main__ - INFO - Stopping bot...
2025-02-26 21:13:43,074 - __main__ - INFO - Bot stopped successfully
2025-02-26 21:13:43,074 - __main__ - ERROR - Critical error during application startup: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 215, in <module>
    bot.start()
  File "/home/runner/workspace/bot.py", line 184, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:13:43,930 - database - INFO - База данных успешно инициализирована
2025-02-26 21:13:43,931 - database - INFO - База данных успешно инициализирована
2025-02-26 21:13:43,931 - __main__ - INFO - Database initialized successfully
2025-02-26 21:13:43,932 - __main__ - INFO - Loading environment variables...
2025-02-26 21:13:43,932 - __main__ - INFO - BOT_TOKEN successfully loaded
2025-02-26 21:13:43,933 - __main__ - INFO - Setting up command handlers...
2025-02-26 21:13:43,933 - __main__ - INFO - All handlers registered successfully
2025-02-26 21:13:43,933 - __main__ - INFO - Bot initialized successfully
2025-02-26 21:13:43,933 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:13:49,677 - __main__ - WARNING - Error clearing updates: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:13:53,304 - __main__ - ERROR - Error starting bot: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 184, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:13:53,307 - __main__ - INFO - Stopping bot...
2025-02-26 21:13:54,307 - __main__ - INFO - Bot stopped successfully
2025-02-26 21:13:54,308 - __main__ - ERROR - Critical error during application startup: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 215, in <module>
    bot.start()
  File "/home/runner/workspace/bot.py", line 184, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:14:57,186 - database - INFO - База данных успешно инициализирована
2025-02-26 21:14:57,187 - database - INFO - База данных успешно инициализирована
2025-02-26 21:14:57,187 - __main__ - INFO - Database initialized successfully
2025-02-26 21:14:57,188 - __main__ - INFO - Loading environment variables...
2025-02-26 21:14:57,188 - __main__ - INFO - BOT_TOKEN successfully loaded
2025-02-26 21:14:57,512 - __main__ - INFO - Successfully cleared webhook
2025-02-26 21:14:57,513 - __main__ - INFO - Setting up command handlers...
2025-02-26 21:14:57,513 - __main__ - INFO - All handlers registered successfully
2025-02-26 21:14:57,513 - __main__ - INFO - Bot initialized successfully
2025-02-26 21:14:57,513 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:15:01,982 - __main__ - WARNING - Error clearing updates: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:15:06,734 - __main__ - ERROR - Error starting bot: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 201, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:15:06,737 - __main__ - INFO - Stopping bot...
2025-02-26 21:15:07,737 - __main__ - INFO - Bot stopped successfully
2025-02-26 21:15:07,737 - __main__ - ERROR - Critical error during application startup: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 232, in <module>
    bot.start()
  File "/home/runner/workspace/bot.py", line 201, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:15:09,372 - database - INFO - База данных успешно инициализирована
2025-02-26 21:15:09,374 - database - INFO - База данных успешно инициализирована
2025-02-26 21:15:09,374 - __main__ - INFO - Database initialized successfully
2025-02-26 21:15:09,375 - __main__ - INFO - Loading environment variables...
2025-02-26 21:15:09,376 - __main__ - INFO - BOT_TOKEN successfully loaded
2025-02-26 21:15:09,705 - __main__ - INFO - Successfully cleared webhook
2025-02-26 21:15:09,706 - __main__ - INFO - Setting up command handlers...
2025-02-26 21:15:09,706 - __main__ - INFO - All handlers registered successfully
2025-02-26 21:15:09,706 - __main__ - INFO - Bot initialized successfully
2025-02-26 21:15:09,707 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:15:15,431 - __main__ - WARNING - Error clearing updates: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:15:19,062 - __main__ - ERROR - Error starting bot: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 201, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:15:19,064 - __main__ - INFO - Stopping bot...
2025-02-26 21:15:20,064 - __main__ - INFO - Bot stopped successfully
2025-02-26 21:15:20,065 - __main__ - ERROR - Critical error during application startup: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 232, in <module>
    bot.start()
  File "/home/runner/workspace/bot.py", line 201, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:16:52,140 - database - INFO - База данных успешно инициализирована
2025-02-26 21:16:52,141 - database - INFO - База данных успешно инициализирована
2025-02-26 21:16:52,141 - __main__ - INFO - Database initialized successfully
2025-02-26 21:16:52,142 - __main__ - INFO - Loading environment variables...
2025-02-26 21:16:52,142 - __main__ - INFO - BOT_TOKEN successfully loaded
2025-02-26 21:16:52,468 - __main__ - INFO - Successfully cleared webhook
2025-02-26 21:16:53,791 - __main__ - INFO - Successfully cleared pending updates
2025-02-26 21:16:53,792 - __main__ - INFO - Setting up command handlers...
2025-02-26 21:16:53,793 - __main__ - INFO - All handlers registered successfully
2025-02-26 21:16:53,793 - __main__ - INFO - Bot initialized successfully
2025-02-26 21:16:53,793 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:16:58,767 - __main__ - ERROR - Error starting bot: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 212, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:16:58,771 - __main__ - INFO - Stopping bot...
2025-02-26 21:16:59,771 - __main__ - INFO - Bot stopped successfully
2025-02-26 21:16:59,771 - __main__ - ERROR - Critical error during application startup: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 243, in <module>
    bot.start()
  File "/home/runner/workspace/bot.py", line 212, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:17:11,847 - database - INFO - База данных успешно инициализирована
2025-02-26 21:17:11,848 - database - INFO - База данных успешно инициализирована
2025-02-26 21:17:11,849 - __main__ - INFO - Database initialized successfully
2025-02-26 21:17:11,850 - __main__ - INFO - Loading environment variables...
2025-02-26 21:17:11,850 - __main__ - INFO - BOT_TOKEN successfully loaded
2025-02-26 21:17:12,176 - __main__ - INFO - Successfully cleared webhook
2025-02-26 21:17:13,507 - __main__ - INFO - Successfully cleared pending updates
2025-02-26 21:17:13,507 - __main__ - INFO - Setting up command handlers...
2025-02-26 21:17:13,508 - __main__ - INFO - All handlers registered successfully
2025-02-26 21:17:13,508 - __main__ - INFO - Bot initialized successfully
2025-02-26 21:17:13,508 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:17:18,479 - __main__ - ERROR - Error starting bot: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 212, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:17:18,482 - __main__ - INFO - Stopping bot...
2025-02-26 21:17:19,482 - __main__ - INFO - Bot stopped successfully
2025-02-26 21:17:19,483 - __main__ - ERROR - Critical error during application startup: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 243, in <module>
    bot.start()
  File "/home/runner/workspace/bot.py", line 212, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:19:02,831 - database - INFO - База данных успешно инициализирована
2025-02-26 21:19:02,832 - database - INFO - База данных успешно инициализирована
2025-02-26 21:19:02,832 - __main__ - INFO - Database initialized successfully
2025-02-26 21:19:02,833 - __main__ - INFO - Loading environment variables...
2025-02-26 21:19:02,833 - __main__ - INFO - BOT_TOKEN successfully loaded
2025-02-26 21:19:03,157 - __main__ - INFO - Successfully cleared webhook
2025-02-26 21:19:04,479 - __main__ - INFO - Successfully cleared pending updates
2025-02-26 21:19:04,480 - __main__ - INFO - Setting up command handlers...
2025-02-26 21:19:04,481 - __main__ - INFO - All handlers registered successfully
2025-02-26 21:19:04,481 - __main__ - INFO - Bot initialized successfully
2025-02-26 21:19:04,481 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:19:09,458 - __main__ - ERROR - Error starting bot: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 212, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:19:09,460 - __main__ - INFO - Stopping bot...
2025-02-26 21:19:10,461 - __main__ - INFO - Bot stopped successfully
2025-02-26 21:19:10,461 - __main__ - ERROR - Critical error during application startup: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 243, in <module>
    bot.start()
  File "/home/runner/workspace/bot.py", line 212, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:19:14,152 - database - INFO - База данных успешно инициализирована
2025-02-26 21:19:14,153 - database - INFO - База данных успешно инициализирована
2025-02-26 21:19:14,153 - __main__ - INFO - Database initialized successfully
2025-02-26 21:19:14,154 - __main__ - INFO - Loading environment variables...
2025-02-26 21:19:14,154 - __main__ - INFO - BOT_TOKEN successfully loaded
2025-02-26 21:19:14,483 - __main__ - INFO - Successfully cleared webhook
2025-02-26 21:19:15,816 - __main__ - INFO - Successfully cleared pending updates
2025-02-26 21:19:15,817 - __main__ - INFO - Setting up command handlers...
2025-02-26 21:19:15,817 - __main__ - INFO - All handlers registered successfully
2025-02-26 21:19:15,817 - __main__ - INFO - Bot initialized successfully
2025-02-26 21:19:15,817 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:19:20,215 - __main__ - ERROR - Error starting bot: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 212, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:19:20,218 - __main__ - INFO - Stopping bot...
2025-02-26 21:19:21,220 - __main__ - INFO - Bot stopped successfully
2025-02-26 21:19:21,221 - __main__ - ERROR - Critical error during application startup: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 243, in <module>
    bot.start()
  File "/home/runner/workspace/bot.py", line 212, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:20:42,654 - database - INFO - База данных успешно инициализирована
2025-02-26 21:20:42,655 - database - INFO - База данных успешно инициализирована
2025-02-26 21:20:42,656 - __main__ - INFO - Database initialized successfully
2025-02-26 21:20:42,661 - __main__ - INFO - Loading environment variables...
2025-02-26 21:20:42,662 - __main__ - INFO - BOT_TOKEN successfully loaded
2025-02-26 21:20:42,996 - __main__ - INFO - Successfully cleared webhook
2025-02-26 21:20:44,319 - __main__ - INFO - Successfully cleared pending updates
2025-02-26 21:20:44,320 - __main__ - INFO - Setting up command handlers...
2025-02-26 21:20:44,320 - __main__ - INFO - All handlers registered successfully
2025-02-26 21:20:44,320 - __main__ - INFO - Bot initialized successfully
2025-02-26 21:20:44,320 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:20:49,296 - __main__ - ERROR - Error starting bot: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 248, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:20:49,299 - __main__ - INFO - Stopping bot...
2025-02-26 21:20:50,299 - __main__ - INFO - Bot stopped successfully
2025-02-26 21:20:50,300 - __main__ - ERROR - Critical error during application startup: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 279, in <module>
    bot.start()
  File "/home/runner/workspace/bot.py", line 248, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:20:50,303 - __main__ - INFO - Cleanup completed
2025-02-26 21:24:53,444 - database - INFO - База данных успешно инициализирована
2025-02-26 21:24:53,445 - database - INFO - База данных успешно инициализирована
2025-02-26 21:24:53,445 - __main__ - INFO - Database initialized successfully
2025-02-26 21:24:53,446 - __main__ - INFO - Checking for existing bot instance (PID: 9363)
2025-02-26 21:24:53,446 - __main__ - INFO - Successfully acquired lock for PID 9363
2025-02-26 21:24:53,446 - __main__ - INFO - Loading environment variables...
2025-02-26 21:24:53,447 - __main__ - INFO - BOT_TOKEN successfully loaded
2025-02-26 21:24:53,771 - __main__ - INFO - Successfully cleared webhook
2025-02-26 21:24:55,094 - __main__ - INFO - Successfully cleared pending updates
2025-02-26 21:24:55,094 - __main__ - INFO - Setting up command handlers...
2025-02-26 21:24:55,095 - __main__ - INFO - All handlers registered successfully
2025-02-26 21:24:55,095 - __main__ - INFO - Bot initialized successfully
2025-02-26 21:24:55,095 - __main__ - INFO - Starting Telegram bot...
2025-02-26 21:25:00,063 - __main__ - ERROR - Error starting bot: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 258, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:25:00,066 - __main__ - INFO - Stopping bot...
2025-02-26 21:25:01,066 - __main__ - INFO - Bot stopped successfully
2025-02-26 21:25:01,066 - __main__ - ERROR - Critical error during application startup: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
Traceback (most recent call last):
  File "/home/runner/workspace/bot.py", line 289, in <module>
    bot.start()
  File "/home/runner/workspace/bot.py", line 258, in start
    self.bot.infinity_polling(
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 1103, in infinity_polling
    self.__skip_updates()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 673, in __skip_updates
    self.get_updates(offset=-1)
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/__init__.py", line 660, in get_updates
    json_updates = apihelper.get_updates(
                   ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 332, in get_updates
    return _make_request(token, method_url, params=payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 168, in _make_request
    json_result = _check_result(method_name, result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/telebot/apihelper.py", line 195, in _check_result
    raise ApiTelegramException(method_name, result, result_json)
telebot.apihelper.ApiTelegramException: A request to the Telegram API was unsuccessful. Error code: 409. Description: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-02-26 21:25:01,068 - __main__ - INFO - Cleaning up resources for PID 9363
2025-02-26 21:25:01,069 - __main__ - INFO - Process lock released and PID file removed
2025-02-26 21:25:01,069 - __main__ - INFO - Cleanup completed
